<!DOCTYPE html>
<script src="~/Scripts/angular.min.js"></script>

<style>
    table, th, td {
        border: 1px solid grey;
        border-collapse: collapse;
        padding: 5px;
    }

        table tr:nth-child(odd) {
            background-color: #f1f1f1;
        }

        table tr:nth-child(even) {
            background-color: #ffffff;
        }
</style>
<html>
<body>
    <div ng-app="myApp" ng-controller="customersCtrl">
 
            <p>Name : <input type="text" ng-model="name" ng-keypress="($event.charCode==13)?myFunction():return" class="k-textbox" placeholder="Enter name here"></p>
            <p> {{name}} </p>
            <button class="k-button" ng-click="myFunction()">Click Me!</button>
        <input type="hidden" id="ipAddress" />
    </div>

    <script>
        function enterClick()
        {
            debugger;
        }
        var app = angular.module('myApp', []);
        //app.directive('myEnter', function () {
        //    return function (scope, element, attrs) {
        //        element.bind("keydown keypress", function (event) {
        //            if (event.which === 13) {
        //                scope.$apply(function () {
        //                    scope.$eval(attrs.myEnter);
        //                });

        //                event.preventDefault();
        //            }
        //        });
        //    };
        //});
        app.controller('customersCtrl', function ($scope, $http) {
            debugger;
            //$scope.myFunction = function () {
            //    $("#tbl").show();
            //    $http.get("http://localhost:6455/api/User/GetRegisterAsTypes")
            //    .then(function (response) {
            //        debugger;
            //    $scope.names = response.data
            //});
            //}
           
            $.getJSON("http://jsonip.com/?callback=?", function (data) {
                
                $("#ipAddress").val(data.ip);
                //alert(data.ip);
            });
            $scope.myFunction = function () {
                debugger;
               
                if ($scope.name != "" && $scope.name != undefined)
                {
                    window.location.href = '@Url.Action("About", "Home")' + '?Name=' + $scope.name + '&ip=' + $("#ipAddress").val();
                }else
                {
                    alert('Enter your name dude');
                }
            }
        });
    </script>

</body>
</html>


